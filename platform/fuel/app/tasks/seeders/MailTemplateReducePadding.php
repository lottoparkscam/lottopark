<?php

namespace Fuel\Tasks\Seeders;

use Fuel\Core\DB;

/**
 * Reduce padding in mail template to fit mobile screens.
 */
final class MailTemplateReducePadding extends Seeder
{
    public function execute(): void
    {
        DB::query("UPDATE `mail_template` SET `content` = '<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n    <head>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n        <meta name=\"format-detection\" content=\"date=no\" />\n        <meta name=\"format-detection\" content=\"address=no\" />\n        <meta name=\"format-detection\" content=\"telephone=no\" />\n        <title>{subject}</title>\n		<!--[if !mso]><!-->\n\n        <!--<![endif]-->\n        <style type=\"text/css\">\n            body, table, td, a{-webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%;}\n            table, td{font-family: Arial, Verdana, sans-serif;mso-table-lspace: 0pt; mso-table-rspace: 0pt;}\n            img{border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; -ms-interpolation-mode: bicubic;}\n            table{border-collapse: collapse !important;}\n            body{font-family: Arial, Verdana, sans-serif; height: 100% !important; margin: 0 !important; padding: 0 !important; width: 100% !important; -webkit-font-smoothing: antialiased !important; font-smoothing: antialiased !important;}\n            div[style*=\"margin: 16px 0;\"] { margin:0 !important; }\n            #outlook a { padding:0; }\n            .ReadMsgBody { width: 100%; }\n            .ExternalClass {width:100%;}\n            .backgroundTable {margin:0 auto; padding:0; width:100% !important;}\n            table td {border-collapse: collapse;}\n            .ExternalClass * {line-height: 115%;}\n\n            p{color: #4c4e5c; margin: 0; padding: 0; font-size: 16px; line-height: 180%;}\n            h1,h2,h3,h4,h5,h6 { padding: 0; margin: 0; }\n            a{color: #4c4e5c; text-decoration: underline; font-weight: bold; }\n            a:link { color:#4c4e5c; text-decoration: underline; font-weight: bold; }\n            a:visited { color:#4c4e5c; text-decoration: underline; font-weight: bold; }\n            a:hover { color:#4c4e5c; text-decoration: underline; font-weight: bold; }\n            a:active { color:#4c4e5c; text-decoration: underline; font-weight: bold; }\n        </style>\n    </head>\n    <body style=\"margin:0; padding:0; font-size: 16px;\">\n        <!--[if mso | IE]>\n        <style type=\"text/css\">\n        body, table, td {font-family: Arial, Verdana, sans-serif !important;}\n        .mso-header-title h1\n        {\n            margin-top: 12px !important; margin-bottom: 12px !important; display: block !important;\n        }\n        .mso-content\n        {\n            margin-top: 20px !important;\n        }\n        .mso-content-title h2\n        {\n            margin-top: 20px !important; margin-bottom: 10px !important; display: block !important;\n        }\n        .mso-content-text p\n        {\n            margin-top: 20px !important;\n            margin-bottom: 20px !important;\n            line-height: 120% !important;\n        }\n        .mso-content-button-container\n        {\n            margin-bottom: 20px !important;\n        }\n        .mso-content-button\n        {\n            margin-top: 10px !important;\n            margin-bottom: 10px !important;\n        }\n        .mso-footer-content\n        {\n            margin-top: 40px !important;\n			margin-bottom: 40px !important;\n        }\n		.mso-border {\n			border-bottom: 1px solid #E8E8E8;\n			padding-bottom: 20px;\n		}\n		.mso-content-text3 {\n			padding-top: 20px !important;\n			padding-bottom: 15px !important;\n		}\n        </style>\n        <![endif]-->\n        <table bgcolor=\"#f6f6f6\" width=\"100%\" style=\"width: 100% !important;\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\" data-section-wrapper=\"1\">\n            <tr>\n                <td width=\"100%\" align=\"center\">\n                    <table width=\"100%\" style=\"width: 100% !important;\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\" data-section-wrapper=\"1\">\n						<tr>\n							<th width=\"100%\" height=\"130\" align=\"center\">\n								<table width=\"580\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\" data-section=\"1\">\n									<tr>\n										<td width=\"100%\" height=\"20\" style=\"font-size: 20px; line-height: 20px;\">&nbsp;</td>\n									</tr>\n									<tr>\n										<td width=\"100%\" align=\"center\" height=\"93\" data-slot-container=\"1\" style=\"background: {header_background};height:93px;padding:0;\">\n											<div data-slot=\"image\" data-param-align=\"1\" data-param-padding-top=\"0\" data-param-padding-bottom=\"0\" style=\"line-height:100%;height:93px;\">\n													{header_image}\n											</div>\n										</td>	\n									</tr>\n									<tr style=\"background-color:#ffffff;\">\n										<td class=\"mso-border\" width=\"100%\" align=\"center\" data-slot-container=\"1\">\n											<div data-slot=\"text\" data-param-padding-top=\"22\" data-param-padding-bottom=\"20\" style=\"padding-top: 25px; padding-bottom: 22px;\" class=\"mso-header-title\">\n												<h1 style=\"color: #4c4e5c; margin: 0; font-size: 32px; font-weight: bold;text-decoration:none;line-height:100%;\">\n													<a href=\"{main_url}\" target=\"_blank\" style=\"text-decoration:none;color: #29272d;\">{logo}</a>\n												</h1>\n											</div>\n										</td>\n									</tr>\n								</table>\n							</th>\n						</tr>\n					</table>\n					<table bgcolor=\"#FFF\" width=\"580\" style=\"width: 580px !important;background-color:#ffffff;border-top: 1px solid #E8E8E8;\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\" data-section-wrapper=\"1\">\n				<tr>\n							<td style=\"padding: 6px 16px 10px;\">\n								<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\" data-section=\"1\" width=\"100%\">\n									<tbody>\n										<tr>\n											<td align=\"left\" style=\"color: #4c4e5c;\" data-slot-container=\"1\" class=\"mso-content-text3\" style=\"\">\n												<div data-slot=\"text\" style=\"\" class=\"mso-content-text\">\n													<p style=\"color: #4c4e5c; font-size: 20px; line-height: 150%;\">\n	{content}												</p>\n												</div>\n											</td>\n										</tr>\n									</tbody>\n								</table>\n							</td>\n						</tr>\n					</table>\n					<table bgcolor=\"#FFF\" width=\"580\" style=\"width: 580px !important;border-top: 1px solid #E8E8E8;background-color:#ffffff;\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\" data-section-wrapper=\"1\">\n						<tr>\n							<td style=\"padding: 28px 16px;\" align=\"center\">\n								<table width=\"100%\" cellspacing=\"0\" border=\"0\" align=\"left\" style=\"width:100%;\" data-section=\"1\">\n									<tbody>\n										<tr>\n											<td align=\"left\" data-slot-container=\"1\" class=\"footer\" style=\"\">\n												<div data-slot=\"text\" data-param-padding-top=\"0\" data-param-padding-bottom=\"0\">\n													<span style=\"font-size: 14px; color: #727e8b; line-height: 150%;\">\n													Regards, {footer_name}<br>\n													Email:  <a href=\"{footer_email}\" style=\"color: #727e8b !important;text-decoration:none;font-weight:normal;\">{footer_email}</a>\n													</span>\n												</div>\n											</td>\n										</tr>\n									</tbody>\n								</table>\n							</td>\n						</tr>\n					</table>\n                </td>\n            </tr>\n<tr><td>&nbsp;</td></tr>\n        </table>\n    </body>\n</html>' WHERE `mail_template`.`id` = 1;")
                    ->execute();
    }

    /**
     * Define columns used by seeder.
     * NOTE: can be for many tables.
     *
     * @return array format 'table' => [col1...coln]
     */
    protected function columnsStaging(): array
    {
        return [
        ];
    }

    /**
     * Define rows used by seeder.
     * NOTE: can be for many tables.
     *
     * @return array format 'table' => [row1[val1...valn]...rown[val1...valn]]
     */
    protected function rowsStaging(): array
    {
        return [
        ];
    }
}
